<div class="modal fade" id="modelStatsModal" tabindex="-1" aria-labelledby="modelStatsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modelStatsModalLabel">Model statistics | {{ result['stats']['airport'] }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <div class="table-responsive">
            <table class="table table-sm caption-top stats-table">
                <caption>General</caption>
                <tbody>
                  <tr>
                    <td><strong>Algorithm</strong></td>
                    <td>Random Forest Classifier</td>
                  </tr>
                  <tr>
                    <td><strong>Estimators</strong></td>
                    <td>{{ result['stats']['number_estimators'] }}</td>
                  </tr>
                  <tr>
                    <td><strong>Criterion</strong></td>
                    <td>{{ result['stats']['criterion'] }}</td>
                  </tr>
                  <tr>
                    <td><strong>From date</strong></td>
                    <td>{{ result['stats']['date_from'] }}</td>
                  </tr>
                  <tr>
                    <td><strong>To date</strong></td>
                    <td>{{ result['stats']['date_to'] }}</td>
                  </tr>
                </tbody>
              </table>
          </div>
          <div class="table-responsive">
            <table class="table table-sm caption-top metrics-table">
                <caption>Features</caption>
                <thead class="table-light">
                  <tr>
                      <th>Name</th>
                      <th>Importance</th>
                  </tr>
                </thead>
                <tbody>
                  {% for feature in result['stats']['features_importance'] %}
                  <tr>
                    {% if feature[0] == "wind_dir" %}
                        <td><strong>Wind direction</strong></td>
                    {% elif feature[0] == "origin_angle" %}
                        <td><strong>Origin/destination angle</strong></td>
                    {% elif feature[0] == "wind_speed" %}
                        <td><strong>Wind speed</strong></td>
                    {% elif feature[0] == "hour" %}
                        <td><strong>Hour of day</strong></td>
                    {% elif feature[0] == "is_summer_season" %}
                        <td><strong>Is summer season</strong></td>
                    {% elif feature[0] == "is_workday" %}
                        <td><strong>Is workday</strong></td>
                    {% endif  %}
                    <td>{{ "{:.2f}%".format(feature[1] * 100) }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
          </div
          <div class="table-responsive">
            <table class="table table-sm caption-top metrics-table">
                <caption>Metrics</caption>
                <thead class="table-light">
                  <tr>
                      <th>Name</th>
                      <th>Test with METAR</th>
                      <th>Test with TAF</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>F1 weighted</strong></td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_metar']['f1_weighted'] * 100) }}</td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_taf']['f1_weighted'] * 100) }}</td>
                  </tr>
                  <tr>
                    <td><strong>Balanced accuracy</strong></td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_metar']['balanced_accuracy'] * 100) }}</td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_taf']['balanced_accuracy'] * 100) }}</td>
                  </tr>
                  <tr>
                    <td><strong>Balanced accuracy over random</strong></td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_metar']['balanced_accuracy_over_rand'] * 100) }}</td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_taf']['balanced_accuracy_over_rand'] * 100) }}</td>
                  </tr>
                  <tr>
                    <td><strong>Accuracy</strong></td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_metar']['accuracy'] * 100) }}</td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_taf']['accuracy'] * 100) }}</td>
                  </tr>
                  <tr>
                    <td><strong>Recall weighted</strong></td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_metar']['recall_weighted'] * 100) }}</td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_taf']['recall_weighted'] * 100) }}</td>
                  </tr>
                  <tr>
                    <td><strong>Precision weighted</strong></td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_metar']['precision_weighted'] * 100) }}</td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_taf']['precision_weighted'] * 100) }}</td>
                  </tr>
                  <tr>
                    <td><strong>Top 2</strong></td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_metar']['top_2'] * 100) }}</td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_taf']['top_2'] * 100) }}</td>
                  </tr>
                  <tr>
                    <td><strong>ROC AUC</strong></td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_metar']['roc_auc'] * 100) }}</td>
                    <td>{{ "{:.2f}%".format(result['stats']['test_with_taf']['roc_auc'] * 100) }}</td>
                  </tr>
                </tbody>
              </table>
          </div>
      </div>
    </div>
  </div>
</div>
